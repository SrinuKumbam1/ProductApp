{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction ShowProductsComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ShowProductsComponent_tr_15_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteProduct(product_r1.id));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ShowProductsComponent_tr_15_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateProduct(product_r1));\n    });\n    i0.ɵɵtext(9, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ShowProductsComponent_tr_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.productDetails(product_r1.id));\n    });\n    i0.ɵɵtext(11, \"Details\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.price);\n  }\n}\n\nexport class ShowProductsComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.fetchProductList();\n  }\n\n  ngOnInit() {}\n\n  fetchProductList() {\n    console.log(localStorage.getItem('response'));\n    this.products = this.productService.getProductsList();\n  }\n\n  deleteProduct(id) {\n    this.productService.deleteProduct(id).subscribe(data => {\n      console.log(data);\n      this.fetchProductList();\n    }, error => console.log(error));\n  }\n\n  productDetails(id) {\n    this.router.navigate(['details', id]);\n  }\n\n  updateProduct(product) {\n    this.router.navigate(['update', product]);\n  }\n\n}\n\nShowProductsComponent.ɵfac = function ShowProductsComponent_Factory(t) {\n  return new (t || ShowProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nShowProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShowProductsComponent,\n  selectors: [[\"app-show-products\"]],\n  decls: 17,\n  vars: 3,\n  consts: [[1, \"panel\", \"panel-primary\"], [1, \"panel-heading\"], [1, \"panel-body\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-info\", 2, \"margin-left\", \"10px\", 3, \"click\"]],\n  template: function ShowProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Product List\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"table\", 3)(6, \"thead\")(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Delete/View\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"tbody\");\n      i0.ɵɵtemplate(15, ShowProductsComponent_tr_15_Template, 12, 2, \"tr\", 4);\n      i0.ɵɵpipe(16, \"async\");\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(16, 1, ctx.products));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG93LXByb2R1Y3RzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAcUA,2BAA6C,CAA7C,EAA6C,IAA7C;IACMA;IAAuBA;IAC3BA;IAAIA;IAAiBA;IACrBA,2BAAI,CAAJ,EAAI,QAAJ,EAAI,CAAJ;IAAYA;MAAA;MAAA;MAAA;MAAA,OAASA,mDAAT;IAAkC,CAAlC;IAA2DA;IAAMA;IAC3EA;IAAQA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAT;IAA+B,CAA/B;IAAgFA;IAAMA;IAC9FA;IAAQA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAAT;IAAmC,CAAnC;IAAoFA;IAAOA;;;;;IAJjGA;IAAAA;IACAA;IAAAA;;;;ACJhB,OAAM,MAAOC,qBAAP,CAA4B;EAGhCC,YAAoBC,cAApB,EAA4DC,MAA5D,EAA0E;IAAtD;IAAwC;IAAkB,KAAKC,gBAAL;EAA0B;;EAExGC,QAAQ,IAEP;;EAEDD,gBAAgB;IACdE,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ;IACA,KAAKC,QAAL,GAAgB,KAAKR,cAAL,CAAoBS,eAApB,EAAhB;EACD;;EAEDC,aAAa,CAACC,EAAD,EAAW;IACtB,KAAKX,cAAL,CAAoBU,aAApB,CAAkCC,EAAlC,EACGC,SADH,CAEIC,IAAI,IAAG;MACLT,OAAO,CAACC,GAAR,CAAYQ,IAAZ;MACA,KAAKX,gBAAL;IACD,CALL,EAMIY,KAAK,IAAIV,OAAO,CAACC,GAAR,CAAYS,KAAZ,CANb;EAOD;;EAEDC,cAAc,CAACJ,EAAD,EAAW;IACvB,KAAKV,MAAL,CAAYe,QAAZ,CAAqB,CAAC,SAAD,EAAYL,EAAZ,CAArB;EACD;;EAEDM,aAAa,CAACC,OAAD,EAAiB;IAC5B,KAAKjB,MAAL,CAAYe,QAAZ,CAAqB,CAAC,QAAD,EAAWE,OAAX,CAArB;EACD;;AA9B+B;;;mBAArBpB,uBAAqBD;AAAA;;;QAArBC;EAAqBqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZlC1B,+BAAiC,CAAjC,EAAiC,KAAjC,EAAiC,CAAjC,EAAiC,CAAjC,EAAiC,IAAjC;MAEUA;MAAYA;MAElBA,+BAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB,EAAwB,CAAxB,EAAwB,OAAxB,EAAwB,CAAxB,EAAwB,IAAxB,EAAwB,CAAxB,EAAwB,IAAxB;MAIYA;MAAYA;MAChBA;MAAIA;MAAKA;MACTA;MAAIA;MAAWA;MAGnBA;MACEA;;MAQFA;;;;MAR0BA;MAAAA","names":["i0","ShowProductsComponent","constructor","productService","router","fetchProductList","ngOnInit","console","log","localStorage","getItem","products","getProductsList","deleteProduct","id","subscribe","data","error","productDetails","navigate","updateProduct","product","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\AngularApps\\new\\ProductApp\\src\\app\\component\\show-products\\show-products.component.html","C:\\AngularApps\\new\\ProductApp\\src\\app\\component\\show-products\\show-products.component.ts"],"sourcesContent":["<div class=\"panel panel-primary\">\r\n    <div class=\"panel-heading\">\r\n      <h2>Product List</h2>\r\n    </div>\r\n    <div class=\"panel-body\">\r\n      <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th>Product Name</th>\r\n            <th>Price</th>\r\n            <th>Delete/View</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let product of products | async\">\r\n            <td>{{product.productName}}</td>\r\n            <td>{{product.price}}</td>\r\n            <td><button (click)=\"deleteProduct(product.id)\" class=\"btn btn-danger\">Delete</button>\r\n              <button (click)=\"updateProduct(product)\" class=\"btn btn-info\" style=\"margin-left: 10px\">Update</button>\r\n              <button (click)=\"productDetails(product.id)\" class=\"btn btn-info\" style=\"margin-left: 10px\">Details</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>","import { Token } from '@angular/compiler';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Product } from '../../model/product';\r\nimport { ProductService } from '../../service/product.service';\r\n\r\n@Component({\r\n  selector: 'app-show-products',\r\n  templateUrl: './show-products.component.html',\r\n  styleUrls: ['./show-products.component.css']\r\n})\r\nexport class ShowProductsComponent implements OnInit {\r\n  products: Observable<Product[]>;  \r\n  public validToken : string;\r\n  constructor(private productService: ProductService, private router: Router) { this.fetchProductList(); }\r\n\r\n  ngOnInit() {\r\n    \r\n  }\r\n\r\n  fetchProductList() {\r\n    console.log(localStorage.getItem('response'));\r\n    this.products = this.productService.getProductsList();\r\n  }\r\n\r\n  deleteProduct(id: number) {\r\n    this.productService.deleteProduct(id)\r\n      .subscribe(\r\n        data => {\r\n          console.log(data);\r\n          this.fetchProductList();\r\n        },\r\n        error => console.log(error));\r\n  }\r\n\r\n  productDetails(id: number) {\r\n    this.router.navigate(['details', id]);\r\n  }\r\n\r\n  updateProduct(product: Product){\r\n    this.router.navigate(['update', product]);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}